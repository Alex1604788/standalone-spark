# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç: –°–∏—Å—Ç–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ Excel

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î
- ‚úÖ `supabase/migrations/20251212_create_import_column_mappings.sql`
  - –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `import_column_mappings`
  - **–°–¢–ê–¢–£–°:** –ü—Ä–∏–º–µ–Ω–µ–Ω–∞ –≤ Supabase (—Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞)

### 2. –£—Ç–∏–ª–∏—Ç—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ `src/lib/importUtils.ts`
  - `normalize()` - —É–¥–∞–ª–µ–Ω–∏–µ BOM –∏ –Ω–µ–≤–∏–¥–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
  - `cleanText()` - –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
  - `parseNumber()` - –ø–∞—Ä—Å–∏–Ω–≥ —á–∏—Å–µ–ª
  - `parseDate()` - –ø–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç

### 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–¥–∞–ª–∫–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `src/components/import/ColumnMappingModal.tsx`
  - –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–ª–æ–Ω–æ–∫
  - –§—É–Ω–∫—Ü–∏—è `guessMapping()` –¥–ª—è –∞–≤—Ç–æ–¥–µ—Ç–µ–∫—Ç–∞

### 4. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `src/components/import/FileUploader.tsx`
  - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `ColumnMappingModal` –∏ `guessMapping`
  - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `normalize` –∏–∑ `importUtils`
  - –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
  - –ü–µ—Ä–µ–¥–∞–µ—Ç `columnMapping` –≤ `onFileSelect`

- ‚úÖ `src/pages/ImportData.tsx`
  - –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `importUtils`
  - –î–æ–±–∞–≤–ª–µ–Ω state `columnMapping`
  - –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ –∏–∑ –ë–î
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞–ø–ø–∏–Ω–≥ –≤ –ë–î –ø—Ä–∏ –∏–º–ø–æ—Ä—Ç–µ
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–ø–ø–∏–Ω–≥ –≤ `buildAccrualRow` –∏ `buildStorageCostRow`
  - –ó–∞—â–∏—Ç–∞ –æ—Ç –º–∞—Å—Å–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ (>80% –æ—à–∏–±–æ–∫ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º–ø–æ—Ä—Ç)

## üîç –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

### Git —Å—Ç–∞—Ç—É—Å
```bash
git status
```

### –§–∞–π–ª—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞ (–µ—Å–ª–∏ –Ω–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã):
1. `supabase/migrations/20251212_create_import_column_mappings.sql` (–Ω–æ–≤—ã–π)
2. `src/lib/importUtils.ts` (–Ω–æ–≤—ã–π)
3. `src/components/import/ColumnMappingModal.tsx` (–Ω–æ–≤—ã–π)
4. `src/components/import/FileUploader.tsx` (–∏–∑–º–µ–Ω–µ–Ω)
5. `src/pages/ImportData.tsx` (–∏–∑–º–µ–Ω–µ–Ω)

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–æ–º–º–∏—Ç–∞:
```bash
git add supabase/migrations/20251212_create_import_column_mappings.sql
git add src/lib/importUtils.ts
git add src/components/import/ColumnMappingModal.tsx
git add src/components/import/FileUploader.tsx
git add src/pages/ImportData.tsx

git commit -m "feat: –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –º–∞–ø–ø–∏–Ω–≥–∞ –∫–æ–ª–æ–Ω–æ–∫ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ Excel

- –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ import_column_mappings –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–∞
- –î–æ–±–∞–≤–ª–µ–Ω—ã —É—Ç–∏–ª–∏—Ç—ã –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (importUtils.ts)
- –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç ColumnMappingModal –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–Ω–æ–∫
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–¥–µ—Ç–µ–∫—Ç –º–∞–ø–ø–∏–Ω–≥–∞ –ø–æ —Å–∏–Ω–æ–Ω–∏–º–∞–º
- FileUploader –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫
- ImportData –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–∞–ø–ø–∏–Ω–≥ –≤–º–µ—Å—Ç–æ –ø–æ–∏—Å–∫–∞ –∫–æ–ª–æ–Ω–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –º–∞—Å—Å–æ–≤—ã—Ö –æ—à–∏–±–æ–∫ (>80% –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º–ø–æ—Ä—Ç)
- –ú–∞–ø–ø–∏–Ω–≥ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏"

git push
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏:

1. **–ú–∏–≥—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∞** ‚úÖ (—Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞ –≤ Supabase)
2. **–í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã** ‚úÖ
3. **–ò–º–ø–æ—Ä—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã** ‚úÖ
4. **–ù—É–∂–Ω–æ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å** ‚ö†Ô∏è

## üöÄ –ü–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:

1. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Ctrl+Shift+R)
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å Excel —Ñ–∞–π–ª
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –∞–≤—Ç–æ–¥–µ—Ç–µ–∫—Ç–∞ –∏–ª–∏ –º–æ–¥–∞–ª–∫–∏
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–º–ø–æ—Ä—Ç



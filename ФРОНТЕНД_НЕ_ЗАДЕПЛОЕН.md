# ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê: –§–†–û–ù–¢–ï–ù–î –ù–ï –ó–ê–î–ï–ü–õ–û–ï–ù!

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

–í—ã –∑–∞–¥–µ–ø–ª–æ–∏–ª–∏ **Edge Functions** (sync-ozon, auto-generate-drafts), –ù–û **–ù–ï –∑–∞–¥–µ–ø–ª–æ–∏–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** (UI —Å –∫–Ω–æ–ø–∫–∞–º–∏)!

### –ß—Ç–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ:
- ‚úÖ `supabase functions deploy sync-ozon` - Backend —Ñ—É–Ω–∫—Ü–∏—è
- ‚úÖ `supabase functions deploy auto-generate-drafts` - Backend —Ñ—É–Ω–∫—Ü–∏—è
- ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è (cron jobs)

### –ß—Ç–æ –ù–ï –∑–∞–¥–µ–ø–ª–æ–µ–Ω–æ:
- ‚ùå **–§—Ä–æ–Ω—Ç–µ–Ω–¥** (src/pages/Reviews.tsx —Å –Ω–æ–≤–æ–π –∫–Ω–æ–ø–∫–æ–π)

---

## üöÄ –†–ï–®–ï–ù–ò–ï: –î–µ–ø–ª–æ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ DEV —Å–µ—Ä–≤–µ—Ä

**–ü—Ä–æ–±–ª–µ–º–∞:** Dev —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏–ª—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ dev —Å–µ—Ä–≤–µ—Ä (Ctrl+C)
# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
npm run dev
```

–ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Ctrl+F5 –∏–ª–∏ Cmd+Shift+R).

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ï—Å–ª–∏ —ç—Ç–æ PRODUCTION

#### –®–∞–≥ 1: –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
```bash
npm run build
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É `dist/` —Å —Å–æ–±—Ä–∞–Ω–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º.

#### –®–∞–≥ 2: –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç–∏–Ω–≥

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–≥–æ –≥–¥–µ —Ö–æ—Å—Ç–∏—Ç—Å—è:**

##### –ï—Å–ª–∏ Vercel:
```bash
vercel --prod
```

##### –ï—Å–ª–∏ Netlify:
```bash
netlify deploy --prod
```

##### –ï—Å–ª–∏ —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä:
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ dist/ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp -r dist/* user@your-server:/path/to/app/
```

##### –ï—Å–ª–∏ —á–µ—Ä–µ–∑ Git (–Ω–∞–ø—Ä–∏–º–µ—Ä, Vercel/Netlify –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π):
```bash
# –ò–∑–º–µ–Ω–µ–Ω–∏—è —É–∂–µ –∑–∞–ø—É—à–µ–Ω—ã, –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–æ–∂–¥–∏—Ç–µ
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è –≤ –ø–∞–Ω–µ–ª–∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞
```

---

## ü§î –ù–ï –ó–ù–ê–ï–¢–ï –ì–î–ï –•–û–°–¢–ò–¢–°–Ø?

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
2. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ URL:**
   - `*.vercel.app` ‚Üí Vercel
   - `*.netlify.app` ‚Üí Netlify
   - `lovable.dev` ‚Üí Lovable
   - –î—Ä—É–≥–æ–π –¥–æ–º–µ–Ω ‚Üí —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä

3. **–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª—ã:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ Vercel
ls vercel.json 2>/dev/null && echo "Vercel detected"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ Netlify
ls netlify.toml 2>/dev/null && echo "Netlify detected"
```

---

## ‚úÖ –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø –§–†–û–ù–¢–ï–ù–î–ê

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

### –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –î–í–ï –∫–Ω–æ–ø–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

1. **"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å"** - –∑–∞ 7 –¥–Ω–µ–π
2. **"–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞ 14 –¥–Ω–µ–π"** - –∑–∞ 14 –¥–Ω–µ–π (–ù–û–í–ê–Ø!)

**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ "–û—Ç–∑—ã–≤—ã" ‚Üí –≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å, —Ä—è–¥–æ–º —Å "–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤"

---

## üîß –ü–†–û–í–ï–†–ö–ê –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ UI (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)

–û—Ç–∫—Ä–æ–π—Ç–µ: `https://your-app.com/app/reviews`

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤"
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å" (7 –¥–Ω–µ–π)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞ 14 –¥–Ω–µ–π" (–ù–û–í–ê–Ø!)
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "–û–±–Ω–æ–≤–∏—Ç—å"

---

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ Backend (—Ñ—É–Ω–∫—Ü–∏–∏)

–û—Ç–∫—Ä–æ–π—Ç–µ Supabase SQL Editor –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ cron jobs
SELECT jobname, schedule, active
FROM cron.job
WHERE jobname LIKE '%ozon%'
ORDER BY jobname;
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ `sync-ozon-incremental` - `*/10 * * * *` (–∫–∞–∂–¥—ã–µ 10 –º–∏–Ω)
- ‚úÖ `sync-ozon-weekly` - `0 3 * * 0` (—Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
SELECT
  name,
  last_sync_at,
  NOW() - last_sync_at as "–≤—Ä–µ–º—è_–Ω–∞–∑–∞–¥"
FROM marketplaces
WHERE type = 'ozon';
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- ‚úÖ `last_sync_at` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- ‚úÖ "–≤—Ä–µ–º—è_–Ω–∞–∑–∞–¥" –º–µ–Ω—å—à–µ 15 –º–∏–Ω—É—Ç

---

## üÜò –ï–°–õ–ò –í–°–Å–†–ê–í–ù–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "–ö–Ω–æ–ø–æ–∫ –Ω–µ—Ç –¥–∞–∂–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è"

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+Shift+Del)
2. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π (Ctrl+F5)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –Ω–∞ –æ—à–∏–±–∫–∏

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è"

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ Edge Functions –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã:
```bash
# –î–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å –≤–µ—Ä—Å–∏–∏ 2026-01-16-v2 –∏ v1
supabase functions list
```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Supabase Dashboard:
   - Edge Functions ‚Üí sync-ozon ‚Üí Logs
   - –î–æ–ª–∂–Ω—ã –≤–∏–¥–µ—Ç—å: `[sync-ozon] Found N reviews with published replies`

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "–î—É–±–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –ø–æ—è–≤–ª—è—é—Ç—Å—è"

**–†–µ—à–µ–Ω–∏–µ:**
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω—ã –∏–º–µ–Ω–Ω–æ –ù–û–í–´–ï –≤–µ—Ä—Å–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π:

```bash
# –ü–µ—Ä–µ–¥–µ–ª–∞–π—Ç–µ –¥–µ–ø–ª–æ–π
supabase functions deploy sync-ozon --no-verify-jwt
supabase functions deploy auto-generate-drafts --no-verify-jwt
```

---

## üìä –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

–í—ã –£–ñ–ï —Å–¥–µ–ª–∞–ª–∏:
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏–ª–∏ SQL –º–∏–≥—Ä–∞—Ü–∏—é
- ‚úÖ –ó–∞–¥–µ–ø–ª–æ–∏–ª–∏ Edge Functions
- ‚úÖ –ó–∞–∫–æ–º–º–∏—Ç–∏–ª–∏ –∫–æ–¥

–ù—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°:
- ‚è≥ **–ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥** (—Å–º. –≤—ã—à–µ)

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞:
- ‚úÖ –ü–æ—è–≤—è—Ç—Å—è –æ–±–µ –∫–Ω–æ–ø–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
- ‚úÖ –î—É–±–ª–µ–π –Ω–µ –±—É–¥–µ—Ç

---

## üéØ –ë–´–°–¢–†–û–ï –†–ï–®–ï–ù–ò–ï

**–ï—Å–ª–∏ dev —Å–µ—Ä–≤–µ—Ä:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
npm run dev
# –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Ctrl+F5)
```

**–ï—Å–ª–∏ production:**
```bash
# –°–æ–±–µ—Ä–∏—Ç–µ
npm run build

# –î–µ–ø–ª–æ–π (–≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —Å–ø–æ—Å–æ–±)
vercel --prod          # –¥–ª—è Vercel
netlify deploy --prod  # –¥–ª—è Netlify
# –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±
```

**–ù–∞–ø–∏—à–∏—Ç–µ –º–Ω–µ:**
- –ì–¥–µ —Ö–æ—Å—Ç–∏—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç–µ dev –∏–ª–∏ production?
- –ï—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞?

–ü–æ–º–æ–≥—É —Ä–µ—à–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –¥–ª—è –≤–∞—à–µ–≥–æ —Å–ª—É—á–∞—è!

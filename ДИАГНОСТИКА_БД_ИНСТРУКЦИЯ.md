# üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ë–ê–ó–´ –î–ê–ù–ù–´–• - –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

## ‚ö° –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°

### 1Ô∏è‚É£ –û—Ç–∫—Ä–æ–π—Ç–µ Supabase SQL Editor

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ:
```
https://supabase.com/dashboard/project/bkmicyguzlwampuindff/sql/new
```

### 2Ô∏è‚É£ –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç SQL –∫–æ–¥:

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `SIMPLE_SIZE_CHECK.sql` –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Å—ë –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ SQL Editor, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ Run.

### 3Ô∏è‚É£ –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ:

‚úÖ **–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –ë–î** - —Ç–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (—Å–µ–π—á–∞—Å ~6GB)
‚úÖ **–¢–û–ü 20 —Å–∞–º—ã—Ö –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü** - —á—Ç–æ –∏–º–µ–Ω–Ω–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ
‚úÖ **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π** - –≤ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ
‚úÖ **–î—É–±–ª–∏–∫–∞—Ç—ã** - –µ—Å—Ç—å –ª–∏ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ
‚úÖ **–°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ** - —Å–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å
‚úÖ **Dead tuples** - –Ω—É–∂–Ω–∞ –ª–∏ –æ—á–∏—Å—Ç–∫–∞ (VACUUM)

## üìä –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –º–Ω–µ. –Ø –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é:

1. **–ß—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –º–µ—Å—Ç–∞**
2. **–ï—Å—Ç—å –ª–∏ –¥—É–±–ª–∏–∫–∞—Ç—ã**
3. **–°–∫–æ–ª—å–∫–æ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å**
4. **–ù—É–∂–Ω–∞ –ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**

## üéØ –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–≥–∏ –∏ –∏—Å—Ç–æ—Ä–∏—è
–ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤:
- `logs_ai` - –ª–æ–≥–∏ AI –≥–µ–Ω–µ—Ä–∞—Ü–∏–π
- `audit_log` - –∏—Å—Ç–æ—Ä–∏—è –¥–µ–π—Å—Ç–≤–∏–π
- `ozon_sync_history` - –∏—Å—Ç–æ—Ä–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–π

**‚Üí –ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–∞–Ω–Ω—ã–µ Ozon
–ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤:
- `ozon_performance_daily` - –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- `reviews` - –æ—Ç–∑—ã–≤—ã
- `products` - —Ç–æ–≤–∞—Ä—ã

**‚Üí –ù—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å, –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏—Ç—å**

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–∞—Ç—ã
–ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ –º–Ω–æ–≥–æ –∑–∞–ø–∏—Å–µ–π –≤:
- `chat_messages` - —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–æ–≤
- `chats` - —á–∞—Ç—ã

**‚Üí –í–æ–∑–º–æ–∂–Ω–æ, –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å –º–Ω–æ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏**

### –í–∞—Ä–∏–∞–Ω—Ç 4: Dead tuples
–ï—Å–ª–∏ —É–≤–∏–¥–∏—Ç–µ –º–Ω–æ–≥–æ dead tuples:

**‚Üí –ù—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å VACUUM FULL**

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **SIMPLE_SIZE_CHECK.sql** ‚≠ê - –ù–ê–ß–ù–ò–¢–ï –° –≠–¢–û–ì–û
2. **DATABASE_SIZE_DIAGNOSTIC.sql** - –ø–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π)
3. **DB_DIAGNOSTIC_README.md** - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
4. **basic-diagnostic.mjs** - Node.js –≤–µ—Ä—Å–∏—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

## ‚ö†Ô∏è –í–ê–ñ–ù–û

**–ü–û–ö–ê –ù–ò–ß–ï–ì–û –ù–ï –£–î–ê–õ–Ø–ï–ú!**

–≠—Ç–æ —Ç–æ–ª—å–∫–æ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞. –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —è:
1. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É—é —á—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –º–µ—Å—Ç–æ
2. –ü—Ä–µ–¥–ª–æ–∂—É –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–ª–∞–Ω –æ—á–∏—Å—Ç–∫–∏
3. –°–æ–∑–¥–∞–º SQL —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)

## üöÄ –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è

- –ó–∞–ø—É—Å–∫ `SIMPLE_SIZE_CHECK.sql`: **30-60 —Å–µ–∫—É–Ω–¥**
- –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤: **5 –º–∏–Ω—É—Ç**
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏: **10 –º–∏–Ω—É—Ç**

## üí° –í–æ–∑–º–æ–∂–Ω–∞—è —ç–∫–æ–Ω–æ–º–∏—è

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤, –º–æ–∂–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å:
- üìä **1-2 GB** - —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
- üóëÔ∏è **500MB - 1GB** - —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- üîß **200-500MB** - VACUUM –æ—á–∏—Å—Ç–∫–∞
- üì¶ **500MB - 1GB** - –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ò—Ç–æ–≥–æ: –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—å 2-4 GB**

---

### ‚ùì –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ SQL –∏–∑ —Ñ–∞–π–ª–∞ `SIMPLE_SIZE_CHECK.sql` –≤ Supabase SQL Editor –∏ –ø–æ–∫–∞–∂–∏—Ç–µ –º–Ω–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã!

# üîç Debug Version: OZON Performance API v2.2.4-debug-insert

## –ü—Ä–æ–±–ª–µ–º–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è v2.2.3 —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç**, –Ω–æ –¥–∞–Ω–Ω—ã–µ **–ù–ï –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –±–∞–∑–µ**:

**Response (—É—Å–ø–µ—Ö):**
```json
{
  "success": true,
  "message": "Synchronization completed",
  "inserted": 23,
  "version": "2.2.3-deduplicate-cumulative-snapshots"
}
```

**Logs (—É—Å–ø–µ—Ö):**
```
Collected total 52 stat rows
After deduplication: 23 unique rows (removed 29 duplicates)
```

**SQL –∑–∞–ø—Ä–æ—Å (0 –∑–∞–ø–∏—Å–µ–π!):**
```sql
SELECT COUNT(*) as total FROM ozon_performance_daily
WHERE marketplace_id = '8d51d87d-a75d-487a-9b8d-29458183f182'
  AND stat_date >= '2025-12-13' AND stat_date <= '2025-12-20'

-- –†–µ–∑—É–ª—å—Ç–∞—Ç: 0 ‚ùå
```

**–ü—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–µ:**
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –≥–æ–≤–æ—Ä–∏—Ç "inserted: 23"
- ‚úÖ –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç (52 ‚Üí 23)
- ‚ùå –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—É—Å—Ç–∞—è (0 –∑–∞–ø–∏—Å–µ–π)

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π marketplace_id** - –¥–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è —Å –¥—Ä—É–≥–∏–º ID
2. **RLS –ø–æ–ª–∏—Ç–∏–∫–∞** - –¥–∞–Ω–Ω—ã–µ –µ—Å—Ç—å, –Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—Ö –Ω–µ –≤–∏–¥–∏—Ç
3. **–î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç** - –¥–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª–µ–Ω—ã –Ω–∞ –¥—Ä—É–≥–∏–µ –¥–∞—Ç—ã
4. **Upsert –∫–æ–Ω—Ñ–ª–∏–∫—Ç** - –¥–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏ —Å—Ä–∞–∑—É –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–æ **debug –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ:

**–§–∞–π–ª:** `supabase/functions/sync-ozon-performance/index.ts`

### –ù–æ–≤—ã–µ –ª–æ–≥–∏ (—Å—Ç—Ä–æ–∫–∏ 592-595):

```typescript
// Debug: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ–º
console.error(`Inserting ${records.length} records for marketplace_id: ${marketplace_id}`);
console.error(`First record sample:`, JSON.stringify(records[0], null, 2));
console.error(`Date range in records: ${records[0]?.stat_date} to ${records[records.length - 1]?.stat_date}`);
```

**–ü–æ–∫–∞–∂–µ—Ç:**
- –°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è
- **–ö–∞–∫–æ–π marketplace_id –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!)
- –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–≤–æ–π –∑–∞–ø–∏—Å–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö)
- –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç –≤ –∑–∞–ø–∏—Å—è—Ö

### –ù–æ–≤—ã–π –ª–æ–≥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤—Å—Ç–∞–≤–∫–∏ (—Å—Ç—Ä–æ–∫–∞ 610):

```typescript
const { data: insertData, error: insertError } = await supabaseClient
  .from("ozon_performance_daily")
  .upsert(records, { onConflict: "marketplace_id,stat_date,sku,campaign_id" })
  .select();  // ‚Üê –¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ –ë–î

// ...

console.error(`Insert successful! Returned ${insertData?.length || 0} rows from database`);
```

**–ü–æ–∫–∞–∂–µ—Ç:**
- –°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π **—Ä–µ–∞–ª—å–Ω–æ –≤–µ—Ä–Ω—É–ª–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** –ø–æ—Å–ª–µ upsert

---

## üöÄ –î–µ–ø–ª–æ–π Debug –í–µ—Ä—Å–∏–∏

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard

```
https://supabase.com/dashboard/project/nxymhkyvhcfcwjcfcbfy/functions/sync-ozon-performance
```

### –®–∞–≥ 2: –ó–∞–º–µ–Ω–∏—Ç–µ –∫–æ–¥

**–ò—Å—Ç–æ—á–Ω–∏–∫:**
```
https://github.com/Alex1604788/standalone-spark/blob/claude/ozon-performance-zip-support-hN0XE/supabase/functions/sync-ozon-performance/index.ts
```

**–ò–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª:**
```
/home/user/standalone-spark/supabase/functions/sync-ozon-performance/index.ts
```

**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å –∫–æ–¥** –∏–∑ —Ñ–∞–π–ª–∞
2. –í—Å—Ç–∞–≤—å—Ç–µ –≤ Supabase Editor (–∑–∞–º–µ–Ω–∏–≤ —Å—Ç–∞—Ä—ã–π –∫–æ–¥)
3. –ù–∞–∂–º–∏—Ç–µ **Deploy**

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏

### –°—Ç—Ä–æ–∫–∞ 3 –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```typescript
 * Version: 2.2.4-debug-insert
```

### –°—Ç—Ä–æ–∫–∞ 4 –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```typescript
 * Date: 2025-12-20
```

### –°—Ç—Ä–æ–∫–∏ 592-595 –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```typescript
// Debug: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –≤—Å—Ç–∞–≤–ª—è–µ–º
console.error(`Inserting ${records.length} records for marketplace_id: ${marketplace_id}`);
console.error(`First record sample:`, JSON.stringify(records[0], null, 2));
console.error(`Date range in records: ${records[0]?.stat_date} to ${records[records.length - 1]?.stat_date}`);
```

### –°—Ç—Ä–æ–∫–∞ 610 –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
```typescript
console.error(`Insert successful! Returned ${insertData?.length || 0} rows from database`);
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API OZON
2. –ù–∞–∂–º–∏—Ç–µ **"–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ"**
3. –î–æ–ª–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å:

```json
{
  "success": true,
  "message": "Connection successful",
  "token_obtained": true,
  "version": "2.2.4-debug-insert",  ‚Üê –í–ê–ñ–ù–û!
  "build_date": "2025-12-20"
}
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é "–ó–∞ 7 –¥–Ω–µ–π"

1. –ù–∞–∂–º–∏—Ç–µ **"–ó–∞ 7 –¥–Ω–µ–π"**
2. **–°–†–ê–ó–£ –æ—Ç–∫—Ä–æ–π—Ç–µ Supabase Logs:**
   - Supabase Dashboard ‚Üí Functions ‚Üí sync-ozon-performance ‚Üí Logs
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (3-5 –º–∏–Ω—É—Ç)

### –®–∞–≥ 3: –ù–∞–π–¥–∏—Ç–µ debug –ª–æ–≥–∏

**–í Supabase Logs –∏—â–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:**

#### 1. –°–∫–æ–ª—å–∫–æ –∑–∞–ø–∏—Å–µ–π –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è:
```
Inserting 23 records for marketplace_id: 8d51d87d-a75d-487a-9b8d-29458183f182
```

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `marketplace_id` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –≤ SQL –∑–∞–ø—Ä–æ—Å–µ!

#### 2. –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–≤–æ–π –∑–∞–ø–∏—Å–∏:
```json
First record sample: {
  "marketplace_id": "8d51d87d-a75d-487a-9b8d-29458183f182",
  "stat_date": "2025-12-13",
  "sku": "1234567890",
  "campaign_id": "campaign-abc-123",
  "campaign_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏",
  "money_spent": 150.50,
  "views": 1000,
  "clicks": 50,
  "orders": 5
}
```

‚ö†Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- `marketplace_id` - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏?
- `stat_date` - –≤ –Ω—É–∂–Ω–æ–º –ª–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–µ?
- `campaign_id` - –∑–∞–ø–æ–ª–Ω–µ–Ω –ª–∏?

#### 3. –î–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç:
```
Date range in records: 2025-12-13 to 2025-12-20
```

‚ö†Ô∏è **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:** –°–æ–≤–ø–∞–¥–∞–µ—Ç –ª–∏ —Å –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º –≤ –≤–∞—à–µ–º SQL –∑–∞–ø—Ä–æ—Å–µ?

#### 4. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å—Ç–∞–≤–∫–∏:
```
Insert successful! Returned 23 rows from database
```

‚ö†Ô∏è **–ö–õ–Æ–ß–ï–í–û–ô –õ–û–ì:**
- –ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `0 rows` ‚Üí –¥–∞–Ω–Ω—ã–µ –ù–ï –≤—Å—Ç–∞–≤–∏–ª–∏—Å—å –≤ –ë–î (–ø—Ä–æ–±–ª–µ–º–∞ —Å upsert)
- –ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `23 rows` ‚Üí –¥–∞–Ω–Ω—ã–µ –ï–°–¢–¨ –≤ –ë–î (–ø—Ä–æ–±–ª–µ–º–∞ —Å SQL –∑–∞–ø—Ä–æ—Å–æ–º)

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ –ª–æ–≥–∞–º

### –°–ª—É—á–∞–π 1: "Returned 0 rows from database"

**–ü—Ä–æ–±–ª–µ–º–∞:** Upsert –Ω–µ –≤—Å—Ç–∞–≤–∏–ª –¥–∞–Ω–Ω—ã–µ –≤ –ë–î

**–ü—Ä–∏—á–∏–Ω—ã:**
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç unique constraint
- –û—à–∏–±–∫–∞ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ª–æ–≥–∞—Ö)
- –¢—Ä–∏–≥–≥–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤—Å—Ç–∞–≤–∫–∏ –≤ –ª–æ–≥–∞—Ö
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã –≤ —Ç–∞–±–ª–∏—Ü–µ `ozon_performance_daily`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ constraint violations

### –°–ª—É—á–∞–π 2: "Returned 23 rows from database" –Ω–æ SQL –∑–∞–ø—Ä–æ—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 0

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–∞–Ω–Ω—ã–µ –ï–°–¢–¨ –≤ –ë–î, –Ω–æ –≤—ã –∏—Ö –Ω–µ –≤–∏–¥–∏—Ç–µ

**–ü—Ä–∏—á–∏–Ω—ã:**
- **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π marketplace_id –≤ SQL –∑–∞–ø—Ä–æ—Å–µ**
- **RLS –ø–æ–ª–∏—Ç–∏–∫–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ—Å—Ç—É–ø**
- **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞—Ç –≤ SQL –∑–∞–ø—Ä–æ—Å–µ**

**–†–µ—à–µ–Ω–∏–µ:**

#### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ marketplace_id –∏–∑ –ª–æ–≥–æ–≤:
```
Inserting 23 records for marketplace_id: 8d51d87d-a75d-487a-9b8d-29458183f182
```

#### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≠–¢–û–¢ –ñ–ï marketplace_id –≤ SQL:
```sql
SELECT
  COUNT(*) as total,
  MIN(stat_date) as first_date,
  MAX(stat_date) as last_date,
  COUNT(DISTINCT campaign_id) as campaigns,
  COUNT(DISTINCT sku) as products
FROM ozon_performance_daily
WHERE marketplace_id = '8d51d87d-a75d-487a-9b8d-29458183f182'  ‚Üê –ò–∑ –ª–æ–≥–æ–≤!
  AND stat_date >= '2025-12-13'  ‚Üê –ò–∑ –ª–æ–≥–æ–≤ (Date range)
  AND stat_date <= '2025-12-20'  ‚Üê –ò–∑ –ª–æ–≥–æ–≤
;
```

#### 3. –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ 0, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ RLS:
```sql
-- –û—Ç–∫–ª—é—á–∏—Ç–µ RLS –≤—Ä–µ–º–µ–Ω–Ω–æ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∞!)
ALTER TABLE ozon_performance_daily DISABLE ROW LEVEL SECURITY;

-- –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –∑–∞–ø—Ä–æ—Å
SELECT COUNT(*) FROM ozon_performance_daily
WHERE marketplace_id = '...' AND stat_date >= '2025-12-13';

-- –í–∫–ª—é—á–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ
ALTER TABLE ozon_performance_daily ENABLE ROW LEVEL SECURITY;
```

---

## üìã –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è v2.2.4 –∏ –∑–∞–ø—É—Å–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –í–°–ï –ª–æ–≥–∏** –∏–∑ Supabase ‚Üí Functions ‚Üí sync-ozon-performance ‚Üí Logs
2. **–ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫–∏:**
   - `Inserting X records for marketplace_id: ...`
   - `First record sample: ...`
   - `Date range in records: ...`
   - `Insert successful! Returned X rows from database`
3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –∏–ª–∏ —Ç–µ–∫—Å—Ç —ç—Ç–∏—Ö –ª–æ–≥–æ–≤**

**–≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç:**
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ marketplace_id –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ö–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—ã—Ç–∞–µ–º—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å
- –†–µ–∞–ª—å–Ω–æ –ª–∏ –¥–∞–Ω–Ω—ã–µ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ –ë–î

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] –ö–æ–¥ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –≤ Supabase Edge Functions
- [ ] –í–µ—Ä—Å–∏—è –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `2.2.4-debug-insert`
- [ ] –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä—Å–∏—é 2.2.4
- [ ] –ó–∞–ø—É—â–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è "–ó–∞ 7 –¥–Ω–µ–π"
- [ ] –û—Ç–∫—Ä—ã—Ç—ã Supabase Logs (–í–ê–ñ–ù–û! –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –°–†–ê–ó–£)
- [ ] –ù–∞–π–¥–µ–Ω—ã debug —Å—Ç—Ä–æ–∫–∏ –≤ –ª–æ–≥–∞—Ö (Inserting X records...)
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω marketplace_id –∏–∑ –ª–æ–≥–æ–≤
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω date range –∏–∑ –ª–æ–≥–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç "Returned X rows from database"
- [ ] SQL –∑–∞–ø—Ä–æ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ marketplace_id –∏ –¥–∞—Ç—ã —á—Ç–æ –≤ –ª–æ–≥–∞—Ö

---

## üìù Commit

**–í–µ—Ç–∫–∞:**
```
claude/ozon-performance-zip-support-hN0XE
```

**Commit:**
```
1cdc921 - Add debug logging to investigate database insert issue in v2.2.4
```

**GitHub:**
```
https://github.com/Alex1604788/standalone-spark/tree/claude/ozon-performance-zip-support-hN0XE
```

---

## üéØ –ò—Ç–æ–≥–æ

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ v2.2.4:**
- ‚úÖ Debug –ª–æ–≥–∏ marketplace_id –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ
- ‚úÖ Debug –ª–æ–≥–∏ –ø–µ—Ä–≤–æ–π –∑–∞–ø–∏—Å–∏ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ Debug –ª–æ–≥–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç
- ‚úÖ Debug –ª–æ–≥–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤—Å—Ç–∞–≤–∫–∏ (—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω–æ –≤—Å—Ç–∞–≤–ª–µ–Ω–æ)

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:**
1. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ v2.2.4
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ debug –ª–æ–≥–∏
4. –°—Ä–∞–≤–Ω–∏—Ç–µ marketplace_id –∏ –¥–∞—Ç—ã –≤ –ª–æ–≥–∞—Ö –∏ SQL –∑–∞–ø—Ä–æ—Å–µ

**–≠—Ç–∞ –≤–µ—Ä—Å–∏—è –ø–æ–∫–∞–∂–µ—Ç –≥–¥–µ –∏–º–µ–Ω–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞!** üîç
